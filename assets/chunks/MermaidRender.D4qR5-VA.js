import{a as _,u as k}from"./vue-kakuyaku.D5QVqqUN.js";import{d as y,h as c,p as x,aq as j,ar as D,u as R,as as S,o as r,c as n,F as m,j as s,t as p}from"./framework.Dedzf56s.js";import v from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";async function b(i,t,l){v.initialize({startOnLoad:!0,theme:l.theme});const{svg:a}=await v.render(i,t);return{svg:a}}const B={ref:"root"},L=["innerHTML"],M={class:"custom-block danger"},T={class:"language-mermaid"},$={key:1,class:"flex justify-center p-8"},H=y({__name:"MermaidRender",props:{id:{},text:{}},setup(i){const t=i,l=c(()=>decodeURIComponent(t.text)),a=x(!1);j(D("root"),([{isIntersecting:e}])=>{a.value||(a.value=e)});const{isDark:f}=R(),u=S(()=>f.value?"dark":"light"),g=_(()=>a.value&&{key:`${t.id}-${t.text}-${u.value}`,payload:{id:t.id,text:l.value,theme:u.value}},({payload:{id:e,text:d,theme:h}})=>k(()=>b(e,d,{theme:h}),{immediate:!0})),o=c(()=>{var e;return(e=g.value)==null?void 0:e.expose.state});return(e,d)=>(r(),n("div",B,[o.value&&!o.value.pending?(r(),n(m,{key:0},[o.value.fulfilled?(r(),n("pre",{key:0,"data-mermaid":"",class:"flex justify-center",innerHTML:o.value.fulfilled.value.svg},null,8,L)):(r(),n(m,{key:1},[s("div",M,[d[0]||(d[0]=s("p",{class:"custom-block-title"}," Unable to render the diagram ",-1)),s("p",null,p(o.value.rejected.reason),1)]),s("div",T,[s("pre",null,[s("code",null,p(l.value),1)])])],64))],64)):(r(),n("div",$," Rendering the diagram... "))],512))}});export{H as default};
